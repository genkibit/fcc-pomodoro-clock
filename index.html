<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="author" content="Noel Noche">
    <meta name="description" content="Improve focus and accomplish tasks with this online timer, which is designed to complement the Pomodoro time managment technique developed by Francesco Cirillo.">

    <link href="https://fonts.googleapis.com/css?family=Oswald:300" rel="stylesheet">
    <link rel="shortcut icon" href="https://lh3.googleusercontent.com/LgFbmGHjiarLHMRUDk017Q_u3KhJOcmGbLj12Nsz6nBjhYsgedXkF1tFweUw7HX8VuOLa8Xr4Ry8vfcU5qGwg9wx4UYhjQbkiAmwP-2j2EASiDvhZfehNbI2NqkzYtS48VxfUF15XA=s300-no">
    <link rel="stylesheet" href="https://unpkg.com/normalize.css@8.0.0/normalize.css">

    <style>
      body,input{text-align:center}.sr-only,body{overflow:hidden}#panel,.effect-01a,.effect-01b,.slide-up{transition:all .6s ease}#controls,#main,#panel,#settings,body,footer{display:flex}#menu,body,footer{color:#fff}html{box-sizing:border-box;font-size:16px}*,:after,:before{box-sizing:inherit}body{height:100vh;min-width:20rem;max-width:100vw;flex-direction:column;justify-content:flex-end;font-family:Oswald,Helvetica,sans-serif;font-weight:300;letter-spacing:1px;background-color:#222;box-shadow:inset 0 0 115px -50px rgba(0,0,0,.75)}a{color:inherit;text-decoration:none}a:hover{color:#9cf}::-moz-selection{background-color:#e5eaef;text-shadow:none}::selection{background-color:#e5eaef;text-shadow:none}button:active,button:focus,button:focus:active,input:focus,textarea:focus{background-image:none;outline:0;box-shadow:none}.sr-only{position:absolute;height:1px;width:1px;margin:-1px;padding:0;clip:rect(0,0,0,0);border:0}button,input{height:2rem;color:inherit;background:0 0}#controls,#session{margin-bottom:1rem}#page-wrapper{height:100vh;flex-direction:column;justify-content:flex-start}button{width:2rem;letter-spacing:inherit;border:1px solid #fff}button:hover{background:#3cb0fd}.effect-01a{opacity:1;visibility:visible}.effect-01b{opacity:0;visibility:hidden}#error-msg,noscript{position:absolute;z-index:99;left:0;top:0;width:100%;background-color:red}#error-msg{display:none}#main{position:fixed;top:0;left:0;width:100%;flex-wrap:wrap;justify-content:center}#canvas-box{position:absolute;z-index:-1;left:0;top:0}#panel{width:inherit;padding:1rem 0;flex-wrap:wrap;justify-content:space-around;order:0;background:#222;background:rgba(25,25,25,.8)}#controls{align-items:center}.btn-controls{width:5.5rem;margin:0 .5rem;text-transform:uppercase}#settings{flex-direction:column;justify-content:space-around}.settings-section{width:9.2rem}.btn-settings{font-size:.65rem}input{font-size:1.5rem;vertical-align:bottom;border:none}#input-session{color:#cf9}#input-break{color:#fcc}.slide-up{margin-top:-10rem}#menu{margin-top:.5rem;display:block;order:1}footer{flex-wrap:wrap;justify-content:center}footer>p{margin:.25rem 1rem .25rem .25rem;padding:.25rem 0}.min-view-text{display:none}@media screen and (min-width:700px){#menu{display:none}#panel{background:0 0}#controls,#session{margin-bottom:0}#settings{flex-direction:row;flex-wrap:nowrap}.min-view-text{display:block}}@media screen and (min-width:1400px){html{font-size:18px}}@media screen and (min-width:1680px){html{font-size:20px}}
    </style>

    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
    <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

    <title>Pomodoro Timer</title>
  </head>
  <body>
    <!--[if lte IE 9]>
    <p class="browsehappy">You are using a <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</p>
    <![endif]-->

    <noscript>Sorry, you need JavaScript enabled to run this application.</noscript>
    <div id="error-msg"></div>

    <div id="main">
      <header class="sr-only">
        <h1>Pomodoro Timer</h1>
        <h2>A Free Code Camp Project</h2>
      </header>
      
      <div id="menu"><a>&hellip;</a></div>
      
      <div id="panel">
        <div id="controls">
          <button class="btn-controls" id="btn-run" type="button">start</button>
          <button class="btn-controls" id="btn-reset" type="button">reset</button>
          <button class="btn-controls" id="btn-mode" type="button">mode A</button>
        </div>
        
        <div id="settings">
          <div class="settings-section" id="session">
            <span class="sr-only"><label for="input-session">Session</label><br></span>
            <button class="btn-settings btn-plus" type="button">&#9650;</button>
            <input id="input-session" type="text" size="3" readonly>
            <button class="btn-settings btn-minus" type="button">&#9660;</button>
          </div>
          
          <div class="settings-section" id="break">
            <span class="sr-only"><label for="input-break">Break</label><br></span>
            <button class="btn-settings btn-plus" type="button">&#9650;</button>
            <input id="input-break" type="text" size="3" readonly>
            <button class="btn-settings btn-minus" type="button">&#9660;</button>
          </div>
        </div>
      </div>
    </div>
    
    <div id="canvas-box"></div>
    
    <footer>
      <p class="min-view-text">Hit spacebar to enter and leave minimalist view</p>
      <p class="min-view-text">&mdash;</p>
      <p><a href="https://github.com/noelnoche/fcc-pomodoro-timer" target="_blank">GitHub</a></p>
      <p><a href="https://github.com/noelnoche/fcc-pomodoro-timer/issues" target="_blank">Report an issue</a></p>
    </footer>  
    
    <audio id="sound-effect">
      <source src="assets/audio/sfx_alien-chirp.mp3" type="audio/mp3">
      <source src="assets/audio/sfx_alien-chirp.ogg" type="audio/ogg">
    </audio>
    
    <script>
      (function(b){function O(c){a.fillStyle="#033";a.fillRect(0,0,h,f);a.strokeStyle="#000";a.lineWidth=.03*n;a.beginPath();a.arc(h/2,f/2,n/2-.15*n,0,2*Math.PI);a.stroke();a.closePath();B=360/(60*g)*c;c=B*Math.PI/180;a.strokeStyle=H;a.lineWidth=.03*n;a.beginPath();a.arc(h/2,f/2,n/2-.15*n,270*Math.PI/180,c+270*Math.PI/180,!1);a.stroke();a.closePath()}function V(c){var b=parseFloat(c)/parseFloat(60*g);if(0===p){c=Math.floor(51*b);var k=Math.floor(153-102*b);b=Math.floor(153-51*b);a.fillStyle="rgb("+c+","+
      k+","+b+")"}else a.fillStyle="#933";a.fillRect(0,0,h,f)}function P(c){c=c||0;var b=h/2,k=Math.floor((60*g-c)/60);c="00"+(60*g-c)%60;var d=.1*n;if(60<=k){var e=Math.floor(k/60);k%=60}else e="00";e=("00"+e).substr(-2);k=("00"+k).substr(-2);c=c.substr(-2);a.fillStyle="#cff";a.font=d+"px Oswald";d=a.measureText("00").width;a.textAlign="end";a.textBaseline="middle";a.fillText(e,b,f/2-1.2*d);a.fillText(k,b,f/2);a.fillText(c,b,f/2+1.2*d);a.textAlign="start";a.fillStyle="#fff";x=("00"+x).substr(-2);a.fillText(x,
      1.05*b,f/2)}function W(){var c=C;if(""!==c.canPlayType("audio/mp3"))var a=".mp3";else""!==c.canPlayType("audio/ogg")?a=".ogg":(Q.innerHTML="Unsupported audio format",Q.style.display="block");return a}function I(){y=(Date.now()-D-E)/1E3;0>=60*g-y&&(C.src="assets/audio/sfx_alien-chirp"+W(),C.load(),C.play(),0===p?p=1:(x++,p=0),g=t[p],H=R[p],D=(new Date).getTime(),E=B=0);"a"===e?V(y):O(y);P(parseInt(y,10));u&&b.setTimeout(function(){b.requestAnimationFrame(I)},30)}function v(){g=q.value;t[0]=g;t[1]=
      r.value;"a"===e?(a.fillStyle="#099",a.fillRect(0,0,h,f)):(a.fillStyle="#033",a.fillRect(0,0,h,f),O(0));P(0)}function S(){!1===z?(l.className=l.className.replace(" slide-up",""),z=!0):(l.className+=" slide-up",z=!1)}function T(){F=u=!1;z=!0;p=0;D=(new Date).getTime();g=null;A.innerHTML="start";E=J=x=B=0;H=R[0];l.className="panel effect-01a";e=e||"a";d.innerHTML="a"===e?"mode A":"mode B";t.length&&(q.value=t[0],r.value=t[1]);d.disabled=!1;K.disabled=!1;L.disabled=!1;M.disabled=!1;N.disabled=!1;v()}
      (function(){for(var c=0,a=["ms","moz","webkit","o"],d=0;d<a.length&&!b.requestAnimationFrame;++d)b.requestAnimationFrame=b[a[d]+"RequestAnimationFrame"],b.cancelAnimationFrame=b[a[d]+"CancelAnimationFrame"]||b[a[d]+"CancelRequestAnimationFrame"];b.requestAnimationFrame||(b.requestAnimationFrame=function(a,d){var e=(new Date).getTime(),f=Math.max(0,16-(e-c)),g=b.setTimeout(function(){a(e+f)},f);c=e+f;return g});b.cancelAnimationFrame||(b.cancelAnimationFrame=function(a){clearTimeout(a)})})();var m=
      document.createElement("canvas"),X=document.getElementById("canvas-box"),a=m.getContext("2d");X.appendChild(m);m.width=b.innerWidth;m.height=b.innerHeight;var h=m.width,f=m.height;var n=h>f?f:h;var D=null,g=null,y,x=0,H="#cf9",p=0,R=["#cf9","#fcc"],B=0,F=!1,u=!1,J=0,E=0,A=document.getElementById("btn-run");m=document.getElementById("btn-reset");var t=["25","5"],q=document.getElementById("input-session"),K=document.querySelector("#session .btn-plus"),L=document.querySelector("#session .btn-minus"),
      r=document.getElementById("input-break"),M=document.querySelector("#break .btn-plus"),N=document.querySelector("#break .btn-minus"),C=document.getElementById("sound-effect"),Q=document.getElementById("error-msg"),l=document.getElementById("panel"),U=document.getElementsByTagName("footer"),w=!1,d=document.getElementById("btn-mode"),e="a",G=document.getElementById("menu"),z=!0;A.onclick=function(a){!1===w?!0===F?(A.innerHTML="start",a=new Date,!0===u?(J=a,u=!1,d.disabled=!0):(A.innerHTML="pause",E+=
      a-J,u=!0,d.disabled=!1,I())):g&&!1===F&&("block"===b.getComputedStyle(G,null).getPropertyValue("display")&&!0===z&&S(),D=(new Date).getTime(),F=u=!0,A.innerHTML="pause",K.disabled=!0,L.disabled=!0,M.disabled=!0,N.disabled=!0,I()):a.preventDefault()};m.onclick=function(a){!1===w?T():a.preventDefault()};d.onclick=function(a){!1===w?("a"===e?(e="b",d.innerHTML="mode B"):(e="a",d.innerHTML="mode A"),v()):a.preventDefault()};G.onclick=S;K.onclick=function(a){q.value++;1440<=parseInt(q.value,10)&&(q.value=
      "1440");v()};L.onclick=function(a){1<q.value&&(q.value--,v())};M.onclick=function(a){r.value++;1440<=parseInt(r.value,10)&&(r.value="1440");v()};N.onclick=function(a){1<r.value&&(r.value--,v())};b.onkeydown=function(a){32===a.keyCode&&(!1===w?(G.className="effect-01b",U[0].className="effect-01b",l.className=" effect-01b",w=!0,d.disabled=!0):(G.className="effect-01a",U[0].className="effect-01a",l.className=l.className.replace("effect-01b","effect-01a"),w=!1,d.disabled=!1))};b.onload=T})(this);
    </script>
  </body>
</html>
