<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="author" content="Noel Noche">
    <meta name="description" content="Improve focus and accomplish tasks with this online timer, which is designed to complement the Pomodoro time managment technique developed by Francesco Cirillo.">

    <link href="https://fonts.googleapis.com/css?family=Oswald:300" rel="stylesheet">
    <link rel="shortcut icon" href="https://lh3.googleusercontent.com/LgFbmGHjiarLHMRUDk017Q_u3KhJOcmGbLj12Nsz6nBjhYsgedXkF1tFweUw7HX8VuOLa8Xr4Ry8vfcU5qGwg9wx4UYhjQbkiAmwP-2j2EASiDvhZfehNbI2NqkzYtS48VxfUF15XA=s300-no">
    <link rel="stylesheet" href="https://unpkg.com/normalize.css@8.0.0/normalize.css">

    <style>    
      #menu,body,footer{color:#fff}body,input{text-align:center}.sr-only,body{overflow:hidden}#panel,.effect-01a,.effect-01b,.slide-up{transition:all .6s ease}#controls,#main,#panel,#settings,body,footer{display:flex}html{box-sizing:border-box;font-size:16px}*,:after,:before{box-sizing:inherit}body{height:100vh;min-width:20rem;max-width:100vw;flex-direction:column;justify-content:flex-end;font-family:Oswald,Helvetica,sans-serif;font-weight:300;letter-spacing:1px;background-color:#222;box-shadow:inset 0 0 115px -50px rgba(0,0,0,.75)}a{color:inherit;text-decoration:none}a:hover{color:#9cf}::-moz-selection{background-color:#e5eaef;text-shadow:none}::selection{background-color:#e5eaef;text-shadow:none}button:active,button:focus,button:focus:active,input:focus,textarea:focus{background-image:none;outline:0;box-shadow:none}.sr-only{position:absolute;height:1px;width:1px;margin:-1px;padding:0;clip:rect(0,0,0,0);border:0}button,input{height:2rem;color:inherit;background:0 0}#controls,#session{margin-bottom:1rem}#page-wrapper{height:100vh;flex-direction:column;justify-content:flex-start}button{width:2rem;letter-spacing:inherit;border:1px solid #fff}button:hover{background:#3cb0fd}.effect-01a{opacity:1;visibility:visible}.effect-01b{opacity:0;visibility:hidden}#error-msg,noscript{position:absolute;z-index:99;left:0;top:0;width:100%;background-color:red}#error-msg{display:none}#main{position:fixed;top:0;left:0;width:100%;flex-wrap:wrap;justify-content:center}#canvas-box{position:absolute;left:0;top:0}#panel{width:inherit;padding:1rem 0;flex-wrap:wrap;justify-content:space-around;order:0;background:#222;background:rgba(25,25,25,.8)}#controls{align-items:center}.btn-controls{width:5.5rem;margin:0 .5rem;text-transform:uppercase}#settings{flex-direction:column;justify-content:space-around}.settings-section{width:9.2rem}.btn-settings{font-size:.65rem}input{font-size:1.5rem;vertical-align:bottom;border:none}#input-session{color:#cf9}#input-break{color:#fcc}.slide-up{margin-top:-10rem}#menu{margin-top:.5rem;display:block;order:1}footer{position:relative;flex-wrap:wrap;justify-content:center}footer>p{margin:.25rem 1rem .25rem .25rem;padding:.25rem 0}.min-view-text{display:none}@media screen and (min-width:700px){#menu{display:none}#panel{background:0 0}#controls,#session{margin-bottom:0}#settings{flex-direction:row;flex-wrap:nowrap}.min-view-text{display:block}}@media screen and (min-width:1400px){html{font-size:18px}}@media screen and (min-width:1680px){html{font-size:20px}}    
    </style>

    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
    <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

    <title>Pomodoro Timer | Noel Noche &mdash; hellonoel.com</title>
  </head>
  <body>
    <!--[if lte IE 9]>
    <p class="browsehappy">You are using a <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</p>
    <![endif]-->

    <noscript>Sorry, you need JavaScript enabled to run this application.</noscript>
    <div id="error-msg"></div>

    <div id="canvas-box"></div>
    
        <div id="main">
          <header class="sr-only">
            <h1>Pomodoro Timer</h1>
            <h2>A Free Code Camp Project</h2>
          </header>
          
          <div id="menu"><a>&hellip;</a></div>
          
          <div id="panel">
            <div id="controls">
              <button class="btn-controls" id="btn-run" type="button">start</button>
              <button class="btn-controls" id="btn-reset" type="button">reset</button>
              <button class="btn-controls" id="btn-mode" type="button">mode A</button>
            </div>
            
            <div id="settings">
              <div class="settings-section" id="session">
                <span class="sr-only"><label for="input-session">Session</label><br></span>
                <button class="btn-settings btn-plus" type="button">&#9650;</button>
                <input id="input-session" type="text" size="3" readonly>
                <button class="btn-settings btn-minus" type="button">&#9660;</button>
              </div>
              
              <div class="settings-section" id="break">
                <span class="sr-only"><label for="input-break">Break</label><br></span>
                <button class="btn-settings btn-plus" type="button">&#9650;</button>
                <input id="input-break" type="text" size="3" readonly>
                <button class="btn-settings btn-minus" type="button">&#9660;</button>
              </div>
            </div>
          </div>
        </div>
        
        <footer>
          <p><a href="https://github.com/noelnoche/fcc-pomodoro-timer" target="_blank">GitHub</a></p>
          <p><a href="https://hellonoel.com" target="_blank">hellonoel.com</a></p>
        </footer>  
    
    <audio id="sound-effect">
      <source src="assets/audio/sfx_alien-chirp.mp3" type="audio/mp3">
      <source src="assets/audio/sfx_alien-chirp.ogg" type="audio/ogg">
    </audio>
    
    <script>    
      (function(b){function Q(c){a.fillStyle="#033";a.fillRect(0,0,h,f);a.strokeStyle="#000";a.lineWidth=.03*l;a.beginPath();a.arc(h/2,f/2,l/2-.15*l,0,2*Math.PI);a.stroke();a.closePath();C=360/(60*g)*c;c=C*Math.PI/180;a.strokeStyle=I;a.lineWidth=.03*l;a.beginPath();a.arc(h/2,f/2,l/2-.15*l,270*Math.PI/180,c+270*Math.PI/180,!1);a.stroke();a.closePath()}function X(c){var x=parseFloat(c)/parseFloat(60*g);if(0===m){c=Math.floor(51*x);var b=Math.floor(153-102*x);x=Math.floor(153-51*x);a.fillStyle="rgb("+c+","+
b+","+x+")"}else a.fillStyle="#933";a.fillRect(0,0,h,f)}function R(c){c=c||0;var b=h/2,r=Math.floor((60*g-c)/60);c="00"+(60*g-c)%60;var d=.1*l;if(60<=r){var e=Math.floor(r/60);r%=60}else e="00";e=("00"+e).substr(-2);r=("00"+r).substr(-2);c=c.substr(-2);a.fillStyle="#cff";a.font=d+"px Oswald";d=a.measureText("00").width;a.textAlign="end";a.textBaseline="middle";a.fillText(e,b,f/2-1.2*d);a.fillText(r,b,f/2);a.fillText(c,b,f/2+1.2*d);a.textAlign="start";a.fillStyle="#fff";y=("00"+y).substr(-2);a.fillText(y,
1.05*b,f/2)}function Y(){var c=D;if(""!==c.canPlayType("audio/mp3"))var a=".mp3";else""!==c.canPlayType("audio/ogg")?a=".ogg":(S.innerHTML="Unsupported audio format",S.style.display="block");return a}function J(){z=(Date.now()-E-F)/1E3;0>=60*g-z&&(D.src="assets/audio/sfx_alien-chirp"+Y(),D.load(),D.play(),0===m?m=1:(y++,m=0),g=t[m],I=T[m],E=(new Date).getTime(),F=C=0);"a"===e?X(z):Q(z);R(parseInt(z,10));u&&b.setTimeout(function(){b.requestAnimationFrame(J)},30)}function v(){g=n.value;t[0]=g;t[1]=
p.value;"a"===e?(a.fillStyle="#099",a.fillRect(0,0,h,f)):(a.fillStyle="#033",a.fillRect(0,0,h,f),Q(0));R(0)}function U(){!1===A?(k.className=k.className.replace(" slide-up",""),A=!0):(k.className+=" slide-up",A=!1)}function V(){G=u=!1;A=!0;m=0;E=(new Date).getTime();g=null;B.innerHTML="start";F=K=y=C=0;I=T[0];k.className="panel effect-01a";e=e||"a";d.innerHTML="a"===e?"mode A":"mode B";t.length&&(n.value=t[0],p.value=t[1]);d.disabled=!1;L.disabled=!1;M.disabled=!1;N.disabled=!1;O.disabled=!1;v()}
(function(){for(var c=0,a=["ms","moz","webkit","o"],d=0;d<a.length&&!b.requestAnimationFrame;++d)b.requestAnimationFrame=b[a[d]+"RequestAnimationFrame"],b.cancelAnimationFrame=b[a[d]+"CancelAnimationFrame"]||b[a[d]+"CancelRequestAnimationFrame"];b.requestAnimationFrame||(b.requestAnimationFrame=function(a,d){var e=(new Date).getTime(),f=Math.max(0,16-(e-c)),g=b.setTimeout(function(){a(e+f)},f);c=e+f;return g});b.cancelAnimationFrame||(b.cancelAnimationFrame=function(a){clearTimeout(a)})})();var q=
document.createElement("canvas"),P=document.getElementById("canvas-box"),a=q.getContext("2d");P.appendChild(q);q.width=b.innerWidth;q.height=b.innerHeight;var h=q.width,f=q.height;var l=h>f?f:h;var E=null,g=null,z,y=0,I="#cf9",m=0,T=["#cf9","#fcc"],C=0,G=!1,u=!1,K=0,F=0,B=document.getElementById("btn-run");P=document.getElementById("btn-reset");var t=["25","5"],n=document.getElementById("input-session"),L=document.querySelector("#session .btn-plus"),M=document.querySelector("#session .btn-minus"),
p=document.getElementById("input-break"),N=document.querySelector("#break .btn-plus"),O=document.querySelector("#break .btn-minus"),D=document.getElementById("sound-effect"),S=document.getElementById("error-msg"),k=document.getElementById("panel"),W=document.getElementsByTagName("footer"),w=!1,d=document.getElementById("btn-mode"),e="a",H=document.getElementById("menu"),A=!0;B.onclick=function(a){!1===w?!0===G?(B.innerHTML="start",a=new Date,!0===u?(K=a,u=!1,d.disabled=!0):(B.innerHTML="pause",F+=
a-K,u=!0,d.disabled=!1,J())):g&&!1===G&&("block"===b.getComputedStyle(H,null).getPropertyValue("display")&&!0===A&&U(),E=(new Date).getTime(),G=u=!0,B.innerHTML="pause",L.disabled=!0,M.disabled=!0,N.disabled=!0,O.disabled=!0,J()):a.preventDefault()};P.onclick=function(a){!1===w?V():a.preventDefault()};d.onclick=function(a){!1===w?("a"===e?(e="b",d.innerHTML="mode B"):(e="a",d.innerHTML="mode A"),v()):a.preventDefault()};H.onclick=U;L.onclick=function(a){n.value++;1440<=parseInt(n.value,10)&&(n.value=
"1440");v()};M.onclick=function(a){1<n.value&&(n.value--,v())};N.onclick=function(a){p.value++;1440<=parseInt(p.value,10)&&(p.value="1440");v()};O.onclick=function(a){1<p.value&&(p.value--,v())};q.ondblclick=function(a){!1===w?(H.className="effect-01b",W[0].className="effect-01b",k.className=" effect-01b",w=!0,d.disabled=!0):(H.className="effect-01a",W[0].className="effect-01a",k.className=k.className.replace("effect-01b","effect-01a"),w=!1,d.disabled=!1)};b.onload=V})(this);
    </script>
  </body>
</html>
