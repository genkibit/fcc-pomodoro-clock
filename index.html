<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="author" content="Noel Noche">
    <meta name="description" content="Free Code Camp Project: Pomodoro Clock. Completed by Noel Noche on December 21, 2015 and revised June 12, 2018.">

    <link href="https://fonts.googleapis.com/css?family=Oswald:300" rel="stylesheet">
    <link rel="stylesheet" href="https://unpkg.com/normalize.css@8.0.0/normalize.css">

    <link rel="stylesheet" href="https://unpkg.com/normalize.css@8.0.0/normalize.css">
    <style>
      body,input{text-align:center}.sr-only,body{overflow:hidden}#panel,.effect-01a,.effect-01b,.slide-up{transition:all .6s ease}#controls,#main,#panel,#settings,body,footer{display:flex}#menu,body,footer{color:#fff}html{box-sizing:border-box;font-size:16px}*,:after,:before{box-sizing:inherit}body{height:100vh;min-width:20rem;max-width:100vw;flex-direction:column;justify-content:flex-end;font-family:Oswald,Helvetica,sans-serif;font-weight:300;letter-spacing:1px;background-color:#222;box-shadow:inset 0 0 115px -50px rgba(0,0,0,.75)}a{color:inherit;text-decoration:none}a:hover{color:#9cf}::-moz-selection{background-color:#e5eaef;text-shadow:none}::selection{background-color:#e5eaef;text-shadow:none}button:active,button:focus,button:focus:active,input:focus,textarea:focus{background-image:none;outline:0;box-shadow:none}.sr-only{position:absolute;height:1px;width:1px;margin:-1px;padding:0;clip:rect(0,0,0,0);border:0}button,input{height:2rem;color:inherit;background:0 0}#controls,#session{margin-bottom:1rem}#page-wrapper{height:100vh;flex-direction:column;justify-content:flex-start}button{width:2rem;letter-spacing:inherit;border:1px solid #fff}button:hover{background:#3cb0fd}.effect-01a{opacity:1;visibility:visible}.effect-01b{opacity:0;visibility:hidden}#error-msg,noscript{position:absolute;z-index:99;left:0;top:0;width:100%;background-color:red}#error-msg{display:none}#main{position:fixed;top:0;left:0;width:100%;flex-wrap:wrap;justify-content:center}#canvas-box{position:absolute;z-index:-1;left:0;top:0}#panel{width:inherit;padding:1rem 0;flex-wrap:wrap;justify-content:space-around;order:0;background:#222;background:rgba(25,25,25,.8)}#controls{align-items:center}.btn-controls{width:5.5rem;margin:0 .5rem;text-transform:uppercase}#settings{flex-direction:column;justify-content:space-around}.settings-section{width:9.2rem}.btn-settings{font-size:.65rem}input{font-size:1.5rem;vertical-align:bottom;border:none}#input-session{color:#cf9}#input-break{color:#fcc}.slide-up{margin-top:-10rem}#menu{margin-top:.5rem;display:block;order:1}footer{flex-wrap:wrap;justify-content:center}footer>p{margin:.25rem 1rem .25rem .25rem;padding:.25rem 0}.min-view-text{display:none}@media screen and (min-width:700px){#menu{display:none}#panel{background:0 0}#controls,#session{margin-bottom:0}#settings{flex-direction:row;flex-wrap:nowrap}.min-view-text{display:block}}   
    </style>

    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
    <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

    <title>Pomodoro Timer</title>
  </head>
  <body>
    <!--[if lte IE 9]>
    <p class="browsehappy">You are using a <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</p>
    <![endif]-->

    <noscript>Sorry, you need JavaScript enabled to run this application</noscript>
    <div id="error-msg"></div>

    <div id="main">
      <header class="sr-only">
        <h1>Pomodoro Timer</h1>
        <h2>A Free Code Camp Project</h2>
      </header>
      
      <div id="menu"><a>&hellip;</a></div>
      
      <div id="panel">
        <div id="controls">
          <button class="btn-controls" id="btn-run" type="button">start</button>
          <button class="btn-controls" id="btn-reset" type="button">reset</button>
          <button class="btn-controls" id="btn-mode" type="button">mode A</button>
        </div>
        
        <div id="settings">
          <div class="settings-section" id="session">
            <span class="sr-only"><label for="input-session">Session</label><br></span>
            <button class="btn-settings btn-plus" type="button">&#9650;</button>
            <input id="input-session" type="text" size="3" readonly>
            <button class="btn-settings btn-minus" type="button">&#9660;</button>
          </div>
          
          <div class="settings-section" id="break">
            <span class="sr-only"><label for="input-break">Break</label><br></span>
            <button class="btn-settings btn-plus" type="button">&#9650;</button>
            <input id="input-break" type="text" size="3" readonly>
            <button class="btn-settings btn-minus" type="button">&#9660;</button>
          </div>
        </div>
      </div>
    </div>
    
    <div id="canvas-box"></div>
    
    <footer>
      <p class="min-view-text">Hit spacebar to enter and leave minimalist view</p>
      <p class="min-view-text">&mdash;</p>
      <p><a href="https://github.com/noelnoche/fcc-pomodoro-timer" target="_blank">GitHub</a></p>
      <p><a href="https://github.com/noelnoche/fcc-pomodoro-timer/issues" target="_blank">Report an issue</a></p>
    </footer>  
    
    <audio id="sound-effect">
      <source src="assets/audio/sfx_alien-chirp.mp3" type="audio/mp3">
      <source src="assets/audio/sfx_alien-chirp.ogg" type="audio/ogg">
    </audio>
    
    <script>
      (function(b){function O(d){a.fillStyle="#033";a.fillRect(0,0,k,g);a.strokeStyle="#000";a.lineWidth=.03*m;a.beginPath();a.arc(k/2,g/2,m/2-.15*m,0,2*Math.PI);a.stroke();a.closePath();A=360/(60*h)*d;d=A*Math.PI/180;a.strokeStyle=G;a.lineWidth=.03*m;a.beginPath();a.arc(k/2,g/2,m/2-.15*m,270*Math.PI/180,d+270*Math.PI/180,!1);a.stroke();a.closePath()}function V(d){var b=parseFloat(d)/parseFloat(60*h);if(0===n){d=Math.floor(153*b);var e=Math.floor(153-153*b);b=Math.floor(153-153*b);a.fillStyle="rgb("+d+
      ","+e+","+b+")"}else a.fillStyle="#900";a.fillRect(0,0,k,g)}function P(d){d=d||0;var b=k/2,e=Math.floor((60*h-d)/60);d="00"+(60*h-d)%60;var c=.1*m;if(60<=e){var f=Math.floor(e/60);e%=60}else f="00";f=("00"+f).substr(-2);e=("00"+e).substr(-2);d=d.substr(-2);a.fillStyle="#cff";a.font=c+"px Oswald";c=a.measureText("00").width;a.textAlign="end";a.textBaseline="middle";a.fillText(f,b,g/2-1.2*c);a.fillText(e,b,g/2);a.fillText(d,b,g/2+1.2*c);a.textAlign="start";a.fillStyle="#fff";w=("00"+w).substr(-2);a.fillText(w,
      1.05*b,g/2)}function W(){var a=B;if(""!==a.canPlayType("audio/mp3"))var b=".mp3";else""!==a.canPlayType("audio/ogg")?b=".ogg":(Q.innerHTML="Unsupported audio format",Q.style.display="block");return b}function H(){x=(Date.now()-C-D)/1E3;0>=60*h-x&&(B.src="assets/audio/sfx_alien-chirp"+W(),B.load(),B.play(),0===n?n=1:(w++,n=0),h=r[n],G=R[n],C=(new Date).getTime(),D=A=0);"a"===c?V(x):O(x);P(parseInt(x,10));t&&b.setTimeout(function(){b.requestAnimationFrame(H)},30)}function u(){h=p.value;r[0]=h;r[1]=
      q.value;"a"===c?(a.fillStyle="#099",a.fillRect(0,0,k,g)):(a.fillStyle="#033",a.fillRect(0,0,k,g),O(0));P(0)}function S(){!1===y?(f.className=f.className.replace(" slide-up",""),y=!0):(f.className+=" slide-up",y=!1)}function T(){E=t=!1;y=!0;n=0;C=(new Date).getTime();h=null;z.innerHTML="start";D=I=w=A=0;G=R[0];f.className="panel effect-01a";c=c||"a";v.innerHTML="a"===c?"mode A":"mode B";r.length&&(p.value=r[0],q.value=r[1]);J.disabled=!1;K.disabled=!1;L.disabled=!1;M.disabled=!1;u()}(function(){for(var a=
      0,c=["ms","moz","webkit","o"],e=0;e<c.length&&!b.requestAnimationFrame;++e)b.requestAnimationFrame=b[c[e]+"RequestAnimationFrame"],b.cancelAnimationFrame=b[c[e]+"CancelAnimationFrame"]||b[c[e]+"CancelRequestAnimationFrame"];b.requestAnimationFrame||(b.requestAnimationFrame=function(d,c){var e=(new Date).getTime(),f=Math.max(0,16-(e-a)),g=b.setTimeout(function(){d(e+f)},f);a=e+f;return g});b.cancelAnimationFrame||(b.cancelAnimationFrame=function(a){clearTimeout(a)})})();var l=document.createElement("canvas"),
      X=document.getElementById("canvas-box"),a=l.getContext("2d");X.appendChild(l);l.width=b.innerWidth;l.height=b.innerHeight;var k=l.width,g=l.height;var m=k>g?g:k;var C=null,h=null,x,w=0,G="#cf9",n=0,R=["#cf9","#fcc"],A=0,E=!1,t=!1,I=0,D=0,z=document.getElementById("btn-run");l=document.getElementById("btn-reset");var r=["25","5"],p=document.getElementById("input-session"),J=document.querySelector("#session .btn-plus"),K=document.querySelector("#session .btn-minus"),q=document.getElementById("input-break"),
      L=document.querySelector("#break .btn-plus"),M=document.querySelector("#break .btn-minus"),B=document.getElementById("sound-effect"),Q=document.getElementById("error-msg"),f=document.getElementById("panel"),U=document.getElementsByTagName("footer"),N=!1,v=document.getElementById("btn-mode"),c="a",F=document.getElementById("menu"),y=!0;z.onclick=function(){if(!0===E){z.innerHTML="start";var a=new Date;!0===t?(I=a,t=!1,v.disabled=!0):(z.innerHTML="pause",D+=a-I,t=!0,v.disabled=!1,H())}else h&&!1===
      E&&("block"===b.getComputedStyle(F,null).getPropertyValue("display")&&!0===y&&S(),C=(new Date).getTime(),E=t=!0,z.innerHTML="pause",J.disabled=!0,K.disabled=!0,L.disabled=!0,M.disabled=!0,H())};l.onclick=T;F.onclick=S;J.onclick=function(a){p.value++;1440<=parseInt(p.value,10)&&(p.value="1440");u()};K.onclick=function(a){1<p.value&&(p.value--,u())};L.onclick=function(a){q.value++;1440<=parseInt(q.value,10)&&(q.value="1440");u()};M.onclick=function(a){1<q.value&&(q.value--,u())};v.onclick=function(a){"a"===
      c?(c="b",v.innerHTML="mode B"):(c="a",v.innerHTML="mode A");u()};b.onkeydown=function(a){32===a.keyCode&&(!1===N?(F.className="effect-01b",U[0].className="effect-01b",f.className=" effect-01b",N=!0):(F.className="effect-01a",U[0].className="effect-01a",f.className=f.className.replace("effect-01b","effect-01a"),N=!1))};b.onload=T})(this);
    </script>
  </body>
</html>
